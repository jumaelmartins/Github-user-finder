import { useLocation } from "react-router-dom";
import Form from "../form/form";
import Icon from "./icons";
import ret from "../../assets/icons/ret.svg";
import React from "react";
import { GlobalContext } from "../hooks/GlobalContext";

const Header = () => {
  const location = useLocation();
  const isRootPath = location.pathname === "/";
  const isUserPath = location.pathname === "/user";
  const isRepoPath = location.pathname === "/repo";
  const isStarredPath = location.pathname === "/starred";
  const isNotFoundPath = location.pathname === "/404";
  const global = React.useContext(GlobalContext);

  return (
    <header
      className={
        isRootPath || isUserPath
          ? "header" + global?.isDarkMode
          : "header bg-black" + global?.isDarkMode
      }
    >
      <div
        className={
          isRootPath || isUserPath
            ? "header__grid-collumn--1 bg-gray" + global?.isDarkMode
            : "header__grid-collumn--1 bg-black" + global?.isDarkMode
        }
      >
        <div className="header__flex--1">
          <svg
            className={"logo" + global?.isDarkMode}
            width="90"
            height="28"
            viewBox="0 0 90 28"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path d="M15.128 9.188L15.092 9.836C14.78 9.932 13.352 10.592 10.808 11.816C6.8 13.712 4.796 14.696 4.796 14.768C4.796 14.816 4.844 14.852 4.94 14.876C11.732 17.468 15.284 18.92 15.596 19.232V19.376C15.596 20.48 15.248 21.356 14.552 22.004C12.416 21.116 8.6 19.688 3.104 17.72L0.26 16.676C0.14 16.244 0.092 15.704 0.116 15.056C0.14 14.384 0.284 13.916 0.548 13.652C7.82 9.668 12.356 7.436 14.156 6.956C14.804 7.22 15.128 7.964 15.128 9.188ZM28.968 15.848L26.772 15.956C26.676 15.956 26.628 15.8 26.628 15.488C26.628 15.176 26.736 14.648 26.952 13.904C27.168 13.16 27.444 12.62 27.78 12.284C28.116 11.948 30.948 11.78 36.276 11.78C37.644 11.78 38.328 11.84 38.328 11.96C38.328 12.512 38.172 13.268 37.86 14.228C37.572 15.164 37.32 15.788 37.104 16.1C37.08 22.556 36.996 25.904 36.852 26.144C36.732 26.384 36.3 26.648 35.556 26.936C34.812 27.248 34.176 27.404 33.648 27.404C33.144 27.404 32.892 27.368 32.892 27.296C32.892 26 32.832 25.22 32.712 24.956L32.64 24.884L32.532 24.956C31.116 26.372 29.268 27.08 26.988 27.08C23.868 27.08 21.516 26.072 19.932 24.056C18.372 22.04 17.592 19.436 17.592 16.244C17.592 13.556 18.084 11.12 19.068 8.936C19.692 7.568 20.484 6.38 21.444 5.372C22.428 4.364 23.772 3.524 25.476 2.852C27.204 2.18 29.196 1.844 31.452 1.844C31.956 1.844 32.652 1.904 33.54 2.024C34.428 2.144 34.896 2.24 34.944 2.312C35.016 2.384 35.052 2.648 35.052 3.104C35.052 3.56 34.992 4.184 34.872 4.976C34.752 5.768 34.62 6.236 34.476 6.38C33.732 5.996 32.472 5.804 30.696 5.804C28.152 5.804 26.124 6.656 24.612 8.36C23.1 10.064 22.344 12.56 22.344 15.848C22.344 17.96 22.776 19.652 23.64 20.924C24.504 22.196 25.716 22.832 27.276 22.832C28.836 22.832 30.096 22.448 31.056 21.68C32.04 20.912 32.532 20.264 32.532 19.736V18.584C32.532 17.12 32.46 16.316 32.316 16.172C32.148 15.956 31.032 15.848 28.968 15.848ZM43.435 27.188L42.319 27.08C42.271 26.84 42.247 25.208 42.247 22.184C42.247 19.136 42.259 17 42.283 15.776C41.875 15.392 41.467 14.804 41.059 14.012C40.675 13.196 40.483 12.5 40.483 11.924C40.483 11.9 41.107 11.864 42.355 11.816C42.379 10.808 42.391 9.644 42.391 8.324C42.391 7.004 42.379 6.332 42.355 6.308C42.091 6.044 41.743 5.42 41.311 4.436C40.903 3.428 40.699 2.78 40.699 2.492C40.963 2.228 45.127 2.096 53.191 2.096C55.207 2.096 56.215 2.144 56.215 2.24C56.215 2.744 56.095 3.296 55.855 3.896C55.639 4.496 55.399 4.976 55.135 5.336C54.895 5.672 54.739 5.828 54.667 5.804C54.595 5.78 54.163 5.768 53.371 5.768C52.579 5.768 51.355 5.828 49.699 5.948C48.043 6.044 47.143 6.164 46.999 6.308C46.855 6.428 46.783 7.724 46.783 10.196L46.819 11.708C49.075 11.66 50.803 11.636 52.003 11.636C53.203 11.636 53.803 11.672 53.803 11.744C53.803 12.68 53.515 13.664 52.939 14.696C52.747 15.056 52.627 15.236 52.579 15.236H52.219C51.451 15.236 50.383 15.296 49.015 15.416C47.647 15.536 46.927 15.632 46.855 15.704C46.783 15.776 46.747 17.276 46.747 20.204C46.747 23.132 46.903 25.124 47.215 26.18C47.215 26.492 46.747 26.732 45.811 26.9C44.899 27.092 44.107 27.188 43.435 27.188ZM52.9297 27.476L69.8497 0.692C70.2097 0.619999 70.5697 0.583999 70.9297 0.583999C71.6497 0.583999 72.3697 0.703999 73.0897 0.943999L56.0617 27.728C55.7257 27.8 55.3897 27.836 55.0537 27.836C54.3577 27.836 53.6497 27.716 52.9297 27.476ZM74.1542 19.232C74.3942 18.992 77.0942 17.864 82.2542 15.848L84.8102 14.876C84.9062 14.852 84.9542 14.816 84.9542 14.768C84.5942 14.528 82.8662 13.676 79.7702 12.212C76.6742 10.724 74.9702 9.932 74.6582 9.836C74.5382 8.228 74.8502 7.268 75.5942 6.956C76.3862 7.172 77.9102 7.844 80.1662 8.972C82.4462 10.076 84.5222 11.132 86.3942 12.14L89.2022 13.652C89.4182 13.868 89.5622 14.36 89.6342 15.128L89.6702 15.488L89.4902 16.676C82.1702 19.316 77.4062 21.092 75.1982 22.004C74.5022 21.356 74.1542 20.48 74.1542 19.376V19.232Z" />
          </svg>
          {isRootPath || isUserPath || isNotFoundPath ? <Form /> : ""}
          <img className="detail" src={ret} alt="" />
        </div>
        <nav className="header__nav">
          {isRootPath && <a>Inicio:</a>}
          {isUserPath && (
            <>
              <a>Usuario: {global?.data?.name}</a>
            </>
          )}
          {isRepoPath && (
            <>
              <a>Usuario': {global?.data?.name}:</a> <a>Repos</a>
            </>
          )}
          {isStarredPath && (
            <>
              <a>Usuario: {global?.data?.name}:</a> <a>Favoritos</a>
            </>
          )}
          {isNotFoundPath && (
            <>
              <a>Usuario: </a> <a>NÃ£o Localizado</a>
            </>
          )}
        </nav>
      </div>
      <div
        className={
          isRootPath || isUserPath
            ? "header__grid-collumn--2" + global?.isDarkMode
            : "header__grid-collumn--2 bg-black" + global?.isDarkMode
        }
      >
        {isRepoPath && (
          <img
            className="avatar"
            src={global?.data?.avatar_url}
            alt="Foto do usuario do github selecionado"
          />
        )}
        {global && <Icon handleClick={global.toggleMode} />}
      </div>
    </header>
  );
};

export default Header;
